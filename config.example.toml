# HGT Bookkeeper Configuration Template
# Copy this file to config.toml and edit with your actual GnuCash account names
#
# Accounting Flow:
# 1. On charge: Record revenue (gross), fees (expense), net to Stripe Balance
# 2. On charge: Accrue tax liability (expense + liability accounts)
# 3. On stripe_fee: Reduce Stripe Balance, record billing expense
# 4. On payout: Move from Stripe Balance to Checking sub-accounts
#    - Withholding sub-accounts get tax amounts (mirrors liabilities)
#    - Available for Draw gets the remainder
# 5. Liabilities remain until you manually pay quarterly taxes
#
# Export Options:
# - GnuCash

[accounts.gnucash]
# Revenue account - where subscription income is recorded (gross amount)
income = "Income:Business:Substack Revenue"

# Asset accounts
checking = "Assets:Current Assets:Checking Account"
stripe_balance = "Assets:Current Assets:Stripe Balance"

# Expense accounts for payment processing fees
payment_fees = "Expenses:Business:Payment Processing Fees"
stripe_billing = "Expenses:Business:Stripe Billing Fees"

# Sub-accounts under checking for tax withholding reserves
fica_employee = "Assets:Current Assets:Checking Account:Withheld:FICA Employee"
fica_employer = "Assets:Current Assets:Checking Account:Withheld:FICA Employer"
federal = "Assets:Current Assets:Checking Account:Withheld:Federal"
state = "Assets:Current Assets:Checking Account:Withheld:State"
available = "Assets:Current Assets:Checking Account:Available for Draw"

# Liability accounts for accrued taxes
fica_employee = "Liabilities:Taxes Payable:FICA Employee"
fica_employer = "Liabilities:Taxes Payable:FICA Employer"
federal = "Liabilities:Taxes Payable:Federal Income Tax"
state = "Liabilities:Taxes Payable:State Income Tax"

# Expense accounts for tax accrual
fica_employee = "Expenses:Taxes:FICA Employee Share"
fica_employer = "Expenses:Taxes:FICA Employer Share"
federal = "Expenses:Taxes:Federal Income Tax"
state = "Expenses:Taxes:State Income Tax"

[tax_rates]
# Tax withholding rates - adjust based on your tax situation
#
# FICA (Self-Employment Tax):
# - Calculated on GROSS revenue (before fees)
# - Split into employee (7.65%) and employer (7.65%) = 15.3% total
fica_employee = 0.0765
fica_employer = 0.0765

# Income Tax:
# - Calculated on NET revenue (after payment processing fees)
# - Adjust rates to match your tax bracket
federal_income = 0.15
state_income = 0.0575

[tax_calculation]
# Basis for tax calculations
# "gross" = before fees, "net" = after payment processing fees
fica_basis = "gross"
income_tax_basis = "net"

[options]
# Automatically create tax withholding transactions with each charge
auto_withhold = true

# Split FICA into employee/employer portions
# Recommended: keeps books S-corp ready from day one
split_fica = true

# Round all monetary amounts to 2 decimal places
round_to_cents = true


